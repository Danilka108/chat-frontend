<form [formGroup]="formGroup" class="form">
    <div class="wrapper" [style.height]="(height$ | async) + 'px'">
        <ng-scrollbar class="scrollbar">
            <div class="textarea-wrapper"
                 message-input
                 (heightChange)="onMessageInputHeightChange($event)">
                <textarea class="textarea mat-body"
                          #textarea
                          (keydown)="onTextareaKeydown($event)"
                          formControlName="message"
                          type="text"
                          cdkTextareaAutosize
                          autosize="CdkTextareaAutosize"
                          cdkAutosizeMinRows="1"
                          placeholder="Send message..."></textarea>
            </div>
        </ng-scrollbar>
    </div>
    <button class="btn-send"
            color="primary"
            [style.height]="btnSize + 'px'"
            [style.width]="btnSize + 'px'"
            matRipple
            aria-label="Send message"
            [disabled]="loading || isMessageEmpty()"
            (click)="onSubmit()">
        <mat-icon>send</mat-icon>
    </button>
</form>